import{r as L,j as i,m as p,a as M,o as l}from"./index-DSYMc0sl.js";import{H as T}from"./Heading-BniQC1Nn.js";import{c as A}from"./index-DqctRkCf.js";import{p as I}from"./index-DZvFVLjv.js";import{S as b,V as f,M as y}from"./Section-oM38K-ml.js";import{T as U}from"./Text-D9r-mox1.js";import{d as R,e as V,E as u,a as j,b as P}from"./PostsList-Ny5hlr17.js";import{u as v,g as B,a as G,b as $,P as C}from"./useValidatePaginationTotal-C5mUs3Ka.js";import{r as H}from"./error-ptoYo4Mx.js";import{u as O}from"./useTitle-2pdHNEcz.js";import"./createCompoundContext-DqckTla5.js";const Q="_body_10b1w_1",q="_image_10b1w_8",z="_title_10b1w_30",r={body:Q,image:q,"image-img":"_image-img_10b1w_12","image-skeleton":"_image-skeleton_10b1w_21",title:z},h=({title:t,titleId:a,text:s})=>i.jsxs("div",{children:[i.jsx("h2",{id:a,className:A("h2",r.title),children:s?t:i.jsx(p,{})}),i.jsx(U,{children:s?I(s):i.jsx(p,{count:3})})]}),D=({user:t})=>{const a=!t,s=L.useId();return i.jsx(b,{"aria-labelledby":s,children:i.jsx(f,{isFetching:a,hiddenMessage:y.authorLoading,children:i.jsxs("div",{className:r.body,children:[i.jsx("div",{className:r.image,children:t?i.jsxs("picture",{children:[i.jsx("source",{srcSet:t.image.webp,type:"image/webp"}),i.jsx("img",{className:r["image-img"],src:t.image.src,width:t.image.width,height:t.image.height,alt:t.image.alt,loading:"lazy"})]}):i.jsx("div",{className:r["image-skeleton"],children:i.jsx(p,{height:"100%",borderRadius:6})})}),i.jsx(h,{title:"About Me",titleId:s,text:t==null?void 0:t.description}),i.jsx(h,{title:"Skills:",text:t==null?void 0:t.skills}),i.jsx(h,{title:"Experience:",text:t==null?void 0:t.experience})]})})})},o=6,oi=()=>{const t=M(),a=H(t.id),[s,_]=v(t.pagination,l.profile(a)),{data:e,isError:E,error:S}=R(a);let n;const k=B(s,o);let x=Array(o).fill(null);const w=e?`${e.firstName} ${e.firstName}`:void 0;O(w);const{data:c,isError:N,isFetching:F}=V({id:a,limit:o,skip:k},{skip:!_});c&&(x=c.posts,n=c.total);const d=G({limit:o,total:n,currentPage:s,paginationUrlCallback:g=>l.pagination(a,g)}),{isFetching:m}=$(d,F);return i.jsxs(i.Fragment,{children:[i.jsxs(u,{isError:E,error:S,isThrowNotFound:!0,errorMessage:j.authorLoad,children:[i.jsx(T,{title:e?`${e.firstName} ${e.lastName}`:null}),i.jsx(D,{user:e??null})]}),i.jsx(b,{title:"All articles by the author",children:i.jsx(f,{isFetching:m,hiddenMessage:y.authorPostsLoading,children:i.jsxs(u,{isError:N,errorMessage:j.authorPostLoad,children:[i.jsx(P,{isFetching:m,children:i.jsx(P.Posts,{posts:x,isCurrentPageAuthor:!0})}),n&&d?i.jsx(C,{limit:o,total:n,currentPage:d,urlBase:l.profile(a),isLoading:m,urlCallback:g=>l.pagination(a,g)}):null]})})})]})};export{oi as default};
