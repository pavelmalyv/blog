import{r as L,j as i,m as p,a as M,o as l}from"./index-Dcm5Iqju.js";import{H as T}from"./Heading-DlckqEQG.js";import{c as A}from"./index-DTiIk4fU.js";import{p as I}from"./index-CFE8To-Y.js";import{S as b,V as f,M as _}from"./Section-8tLrx2Qc.js";import{T as U}from"./Text-jFnTqEFD.js";import{d as R,e as V,E as u,a as j,b as P}from"./PostsList-Dldm9ZGn.js";import{u as v,g as B,a as G,b as $,P as C}from"./useValidatePaginationTotal-B1rRio14.js";import{r as H}from"./error-B3qI_Gt9.js";import{u as O}from"./useTitle-DWc_W_yW.js";import"./createCompoundContext-09gdrW1o.js";const Q="_body_10b1w_1",q="_image_10b1w_8",D="_title_10b1w_30",r={body:Q,image:q,"image-img":"_image-img_10b1w_12","image-skeleton":"_image-skeleton_10b1w_21",title:D},h=({title:t,titleId:s,text:a})=>i.jsxs("div",{children:[i.jsx("h2",{id:s,className:A("h2",r.title),children:a?t:i.jsx(p,{})}),i.jsx(U,{children:a?I(a):i.jsx(p,{count:3})})]}),z=({user:t})=>{const s=!t,a=L.useId();return i.jsx(b,{"aria-labelledby":a,children:i.jsx(f,{isFetching:s,hiddenMessage:_.authorLoading,children:i.jsxs("div",{className:r.body,children:[i.jsx("div",{className:r.image,children:t?i.jsxs("picture",{children:[i.jsx("source",{srcSet:t.image.webp,type:"image/webp"}),i.jsx("img",{className:r["image-img"],src:t.image.src,width:t.image.width,height:t.image.height,alt:t.image.alt})]}):i.jsx("div",{className:r["image-skeleton"],children:i.jsx(p,{height:"100%",borderRadius:6})})}),i.jsx(h,{title:"About Me",titleId:a,text:t==null?void 0:t.description}),i.jsx(h,{title:"Skills:",text:t==null?void 0:t.skills}),i.jsx(h,{title:"Experience:",text:t==null?void 0:t.experience})]})})})},o=6,oi=()=>{const t=M(),s=H(t.id),[a,y]=v(t.pagination,l.profile(s)),{data:e,isError:E,error:S}=R(s);let n;const k=B(a,o);let x=Array(o).fill(null);const w=e?`${e.firstName} ${e.firstName}`:void 0;O(w);const{data:c,isError:N,isFetching:F}=V({id:s,limit:o,skip:k},{skip:!y});c&&(x=c.posts,n=c.total);const d=G({limit:o,total:n,currentPage:a,paginationUrlCallback:g=>l.pagination(s,g)}),{isFetching:m}=$(d,F);return i.jsxs(i.Fragment,{children:[i.jsxs(u,{isError:E,error:S,isThrowNotFound:!0,errorMessage:j.authorLoad,children:[i.jsx(T,{title:e?`${e.firstName} ${e.lastName}`:null}),i.jsx(z,{user:e??null})]}),i.jsx(b,{title:"All articles by the author",children:i.jsx(f,{isFetching:m,hiddenMessage:_.authorPostsLoading,children:i.jsxs(u,{isError:N,errorMessage:j.authorPostLoad,children:[i.jsx(P,{isFetching:m,children:i.jsx(P.Posts,{posts:x,isCurrentPageAuthor:!0})}),n&&d?i.jsx(C,{limit:o,total:n,currentPage:d,urlBase:l.profile(s),isLoading:m,urlCallback:g=>l.pagination(s,g)}):null]})})})]})};export{oi as default};
