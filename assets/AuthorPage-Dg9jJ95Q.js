import{r as T,j as i,m as x,a as A,o as c}from"./index-BbrLUJS4.js";import{H as L}from"./Heading-DVzCZhvc.js";import{c as M}from"./index-LGDCkONR.js";import{p as I}from"./index-BJDvT0y2.js";import{S as f,V as y,M as _}from"./Section-FrQQpDz2.js";import{T as U}from"./Text-BNMsEHhL.js";import{d as v,e as R,E as j,a as P,b}from"./PostsList-DxV9v6WB.js";import{u as V,g as B,a as G,b as $,P as C}from"./useValidatePaginationTotal-DtLkSyVR.js";import{r as H}from"./error-Bhc4kWbk.js";import{u as O}from"./useTitle-Z66BQIQ6.js";import"./createCompoundContext-NIAiWaxx.js";const Q="_body_10b1w_1",q="_image_10b1w_8",z="_title_10b1w_30",r={body:Q,image:q,"image-img":"_image-img_10b1w_12","image-skeleton":"_image-skeleton_10b1w_21",title:z},p=({title:t,titleId:a,text:s})=>i.jsxs("div",{children:[i.jsx("h2",{id:a,className:M("h2",r.title),children:s?t:i.jsx(x,{})}),i.jsx(U,{children:s?I(s):i.jsx(x,{count:3})})]}),D=({user:t,isAboveTheFold:a=!1})=>{const s=!t,n=T.useId();return i.jsx(f,{"aria-labelledby":n,children:i.jsx(y,{isFetching:s,hiddenMessage:_.authorLoading,children:i.jsxs("div",{className:r.body,children:[i.jsx("div",{className:r.image,children:t?i.jsxs("picture",{children:[i.jsx("source",{srcSet:t.image.webp,type:"image/webp"}),i.jsx("img",{className:r["image-img"],src:t.image.src,width:t.image.width,height:t.image.height,alt:t.image.alt,loading:a?"eager":"lazy"})]}):i.jsx("div",{className:r["image-skeleton"],children:i.jsx(x,{height:"100%",borderRadius:6})})}),i.jsx(p,{title:"About Me",titleId:n,text:t==null?void 0:t.description}),i.jsx(p,{title:"Skills:",text:t==null?void 0:t.skills}),i.jsx(p,{title:"Experience:",text:t==null?void 0:t.experience})]})})})},o=6,oi=()=>{const t=A(),a=H(t.id),[s,n]=V(t.pagination,c.profile(a)),{data:e,isError:E,error:S}=v(a);let l;const k=B(s,o);let u=Array(o).fill(null);const w=e?`${e.firstName} ${e.firstName}`:void 0;O(w);const{data:d,isError:F,isFetching:N}=R({id:a,limit:o,skip:k},{skip:!n});d&&(u=d.posts,l=d.total);const m=G({limit:o,total:l,currentPage:s,paginationUrlCallback:h=>c.pagination(a,h)}),{isFetching:g}=$(m,N);return i.jsxs(i.Fragment,{children:[i.jsxs(j,{isError:E,error:S,isThrowNotFound:!0,errorMessage:P.authorLoad,children:[i.jsx(L,{title:e?`${e.firstName} ${e.lastName}`:null}),i.jsx(D,{user:e??null,isAboveTheFold:!0})]}),i.jsx(f,{title:"All articles by the author",children:i.jsx(y,{isFetching:g,hiddenMessage:_.authorPostsLoading,children:i.jsxs(j,{isError:F,errorMessage:P.authorPostLoad,children:[i.jsx(b,{isFetching:g,children:i.jsx(b.Posts,{posts:u,isCurrentPageAuthor:!0})}),l&&m?i.jsx(C,{limit:o,total:l,currentPage:m,urlBase:c.profile(a),isLoading:g,urlCallback:h=>c.pagination(a,h)}):null]})})})]})};export{oi as default};
